<ion-view title="<b>店舗">
  <!--
  <ion-nav-buttons side="left">
      <button  menu-toggle="left" class="button button-icon icon ion-navicon" ng-click="doSomething()">
      </button>
  </ion-nav-buttons>
  -->
  <ion-content class="padding"  scroll="true" has-bouncing="true">
      <div>
          <select class="selectorStyle" ng-model="selectedType" ng-options="item as item.name for item in typeList"></select>
          <select class="selectorStyle" ng-model="selectedLocation" ng-options="item as item.name for item in locationList"></select>
          <select class="selectorStyle" ng-model="selectedOrder" ng-options="item as item.name for item in orderList"></select>
      </div>
    <ion-refresher pulling-text="更新中" on-refresh="doRefresh()">
    </ion-refresher>

    <div class=" bordLine" style="margin-top: 2vw"
         ng-repeat="shop in shops | shopFilter : selectedType.type | shopFilter : selectedLocation.type| shopFilter : selectedOrder.type| orderBy :'-id'">
      <a href="#/tab/shop-detail/{{shop._id}}" class=" item item-thumbnail-left borderRadius5">
        <img class="product_image" ng-src="{{ shop.shopImage }}">

        <div style="float:right;margin-top: 2vw">
          <div lang="zh-cn" class="category">{{shop.shopCategory}}</div>

          <div lang="zh-cn" class="category">剩{{item.numbers}}</div>
          <div lang="zh-cn" class="category ion-heart" ng-if="findShopInFavoriteList(shop) ">已关注</div>
          <br>

          <div class="category">{{shopAverageRate(shop)}}{{shopCommentNumbers(shop)}}</div>
        </div>
        <ul>
          <li lang="zh-cn" class="productName">{{shop.shopName}}</li>
          <li lang="zh-cn" class="productIntroduction">{{shop.shopIntroduction}}</li>
          <li lang="zh-cn">
            <div class="fullPrice floatLeft">{{shop.shopAddress}}</div>

          </li>
        </ul>
      </a>
    </div>
  </ion-content>
</ion-view>
